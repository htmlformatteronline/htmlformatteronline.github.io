function switchTab(e,t){const n=document.querySelectorAll(".tab-btn");document.querySelector(".tab-highlight"),document.querySelectorAll(".tab-pane");n.forEach((e=>e.classList.remove("active")));e.target.classList.add("active"),document.getElementById(t).style.display="block",resetBrokerageData(),updateHighlight(),titleChanger()}function updateHighlight(){const e=document.querySelector(".tab-btn.active"),t=document.querySelector(".tab-highlight");if(!e||!t)return;const n=e.getBoundingClientRect();e.parentElement.getBoundingClientRect();window.innerWidth>500?(t.style.width=`${n.width}px`,t.style.left=`${e.offsetLeft}px`,t.style.height="85%",t.style.top="0",t.style.transform="none"):(t.style.width="90%",t.style.height=`${n.height}px`,t.style.left="50%",t.style.transform="translateX(-50%)",t.style.top=`${e.offsetTop}px`)}function resetBrokerageData(){["brokerage","otherCharges","breakeven","netPnl","brokerageValue","stt","transactionCharges","dpCharges","stampDuty","sebiFees","gst","totalCharges","netBuyValue","netSellValue"].forEach((e=>{document.getElementById(e).innerText="₹ 0.00"})),document.getElementById("quantity").value="",document.getElementById("buyPrice").value="",document.getElementById("sellPrice").value=""}function titleChanger(){document.getElementById("Heading-update-text").innerText=document.querySelector(".tab-btn.active").innerText+" Brokerage Calculator"}function calculateValues(){const e=parseFloat(document.getElementById("quantity").value)||0,t=parseFloat(document.getElementById("buyPrice").value)||0,n=parseFloat(document.getElementById("sellPrice").value)||0,o=e*t,l=e*n;let a=document.querySelector(".tab-btn.active").innerText,d=0,u=0,i=0,c=0,r=0,s=0;"NSE"==getSelectedRadioValue()?"Futures"==a?(c=t*e<4e4?t*e*.05/100:20,r=t*e<4e4?n*e*.05/100:20,s=.00173*o/100+.00173*l/100,d=.02*l/100,u=.002*o/100,i=c+r):"Options"==a?(c=20,r=20,s=.03503*o/100+.03503*l/100,d=.1*l/100,u=.003*o/100,i=c+r):"Stocks"==a?(c=t*e<800?t*e*2.5/100:20,r=t*e<800?n*e*2.5/100:20,s=.00297*o/100+.00297*l/100,d=.1*o/100+.1*l/100,u=.015*o/100,i=c+r):(c=t*e<2e4?t*e*.1/100:20,r=t*e<2e4?n*e*.1/100:20,s=.00297*o/100+.00297*l/100,d=.025*l/100,u=.003*o/100,i=c+r):"Futures"==a?(c=t*e<4e4?t*e*.05/100:20,r=t*e<4e4?n*e*.05/100:20,s=0,d=.02*l/100,u=.002*o/100,i=c+r):"Options"==a?(c=20,r=20,s=.03503*o/100+.03503*l/100,d=.1*l/100,u=.0325*o/100,i=c+r):"Stocks"==a?(c=t*e<800?t*e*2.5/100:20,r=t*e<800?n*e*2.5/100:20,s=.00297*o/100+.00297*l/100,d=.1*o/100+.1*l/100,u=.015*o/100,i=c+r):(c=t*e<2e4?t*e*.1/100:20,r=t*e<2e4?n*e*.1/100:20,s=.00297*o/100+.00297*l/100,d=.025*l/100,u=.003*o/100,i=c+r);const g=(o+l)/1e5*.1,m=18*(i+s)/100,y=i+d+s+0+u+g+m,h=y-i,x=l-o-y,B=(y+o)/e-t;document.getElementById("brokerage").textContent=`₹ ${i.toFixed(2)}`,document.getElementById("brokerageValue").textContent=`₹ ${i.toFixed(2)}`,document.getElementById("netBuyValue").textContent=`₹ ${o.toFixed(2)}`,document.getElementById("netSellValue").textContent=`₹ ${l.toFixed(2)}`,document.getElementById("netPnl").textContent=`₹ ${x.toFixed(2)}`,document.getElementById("netPnl").style.color=x>=0?"#00c853":"#ff5252",document.getElementById("stt").textContent=`₹ ${d.toFixed(2)}`,document.getElementById("stampDuty").textContent=`₹ ${u.toFixed(2)}`,document.getElementById("sebiFees").textContent=`₹ ${g.toFixed(2)}`,document.getElementById("transactionCharges").textContent=`₹ ${s.toFixed(2)}`,document.getElementById("gst").textContent=`₹ ${m.toFixed(2)}`,document.getElementById("totalCharges").textContent=`₹ ${y.toFixed(2)}`,document.getElementById("otherCharges").textContent=`₹ ${h.toFixed(2)}`,document.getElementById("breakeven").textContent=`₹ ${B.toFixed(2)}`}window.onload=function(){updateHighlight(),titleChanger()},window.addEventListener("resize",(function(){setTimeout(updateHighlight,100)}));const getSelectedRadioValue=()=>{const e=document.querySelector('input[name="options"]:checked');return e?e.value:null};